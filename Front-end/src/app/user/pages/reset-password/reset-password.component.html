<ng-container *ngIf="showProgressbar">
    <div style="z-index: 100;position: -webkit-sticky;position:sticky;top:0;">
        <mat-progress-bar mode="indeterminate" style="color:white;"></mat-progress-bar>
    </div>
</ng-container>
<div class="header bg-primary py-7 py-sm-8">


</div>
<!-- Page content -->
<div class="container-fluid mt--8 pb-5 bg-default pb-8 px-0">
    <div class=" mt-md-5 mb-8">
        <div class=" mx-auto d-block col-lg-8 col-md-10 col-xl-7 col-sm-8 mb-5">
            <div class="card bg-secondary shadow border-0 p-xl-4">
                <div class="card-header bg-transparent pb-2">

                    <div class="card-body px-lg-4 py-lg-4">
                        <div class="text-center text-muted mb-4">
                            <h1>Change Password</h1>
                        </div>
                        <form role="form"  (ngSubmit)="updatePassword(vms.value)" #vms="ngForm">
                            <div class="form-group mb-3">
                                <div class="input-group input-group-alternative">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="ni ni-email-83"></i></span>
                                    </div>
                                    <input #old="ngModel"  autocomplete="off" [(ngModel)]="oldPassword" class="form-control" ngModel name="oldPass"  placeholder="Old Password" type="password">       
                                   
                                </div>
                                <small *ngIf="old.touched&&oldPassword==''"  class="text-danger">Old password is required</small>
                            </div>
                            <div class="alert alert-danger" role="alert" *ngIf = "oldPsinvalid == true">
                               <small class="text-danger"> Old Password incorrect.</small>
                            </div>
                            
                            <div class="form-group">
                                <div class="input-group input-group-alternative">
                                  <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-lock-circle-open"></i></span>
                                  </div>
                                  <input pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" #psw='ngModel' [(ngModel)]="password" autocomplete="off" class="form-control"  placeholder="New Password" type="password" name="newPass" ngModel>
                                </div>
                                <small *ngIf="psw.touched&&password==''" class="text-danger">Password is required</small>
                                <small class="text-danger" *ngIf="psw.errors?.pattern && psw.touched">Password does not match with strength</small>
                
                              </div>

                            <div class="form-group">
                                <div class="input-group input-group-alternative">
                                  <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-lock-circle-open"></i></span>
                                  </div>
                                  <input #conPsw='ngModel' autocomplete="off" class="form-control" placeholder="Confirm Password" type="password" ngModel name="confirmPassword" (input)="checkPassword(conPsw.value)">
                                </div>
                                <small *ngIf="conPsw.value=='' && conPsw.touched" class="text-danger">Confirmed Password is required</small>
                                <small class="text-danger" *ngIf="passwordMatch && conPsw.touched && conPsw.value !=''">Password does not matched</small>
                              </div>
                              <div class="text-center">
                                <button type="button submit" [disabled]='psw.value=="" || conPsw.value=="" || old.value=="" || passwordMatch' class="btn btn-primary my-4">Change Password</button>
                              </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>